<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bootstrap Sidebar with Collapsible List</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://kit.fontawesome.com/77ec53770a.js" crossorigin="anonymous"></script>

    
    <link rel="stylesheet" href="../../css/ui.css">
    <link rel="stylesheet" href="style.css">
</head>


<body>
        <div class="container-fluid">
            <div class="row">
                <!-- Top Navbar -->
            <!-- Top Navbar -->
    <nav class="navbar navbar-expand-lg navbar-light sticky-top bg-white w-100">
        <div class="container-fluid p-0">
            <!-- Logo on the left side -->
            <a class="navbar-brand" href="#">
                <img src="logo.png" alt="Ocean Swell Digital" width="150" height="50" class="d-inline-block align-top">
            </a>
            
            <!-- Toggler for small screens -->
            <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#topnav" aria-controls="topnav" id="btntopnav">
                <span class="navbar-toggler-icon"></span>
            </button>
            
            <!-- Right-side: Avatar/Button with user name -->
            <div class="d-flex align-items-center ms-auto">
                <!-- Avatar Image with Offcanvas Trigger -->
                <button class="btn btn-outline-secondary d-flex align-items-center me-5" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasUserMenu" aria-controls="offcanvasUserMenu">
                    <!-- Avatar -->
                    <img src="user.png" alt="User Avatar" class="rounded-circle me-2" style="width: 40px; height: 40px;">
                    <!-- User name (fname lname) -->
                    <span id="userFullName"></span>
                </button>
            </div>
        </div>
    </nav>

<!-- Offcanvas for User Menu -->
<div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasUserMenu" aria-labelledby="offcanvasUserMenuLabel">
    <div class="offcanvas-header">
        <h5 class="offcanvas-title" id="offcanvasUserMenuLabel">Account Settings</h5>
        <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
    <hr class="w-100 my-1">
    <div class="offcanvas-body d-flex flex-column">
        <!-- Avatar and Display Name Section -->
        <div class="text-center">
            <img src="user.png" alt="User Avatar" class="rounded-circle mb-3" style="width: 100px; height: 100px;">
            <h4 id="userFullNameOffCanvas"></h4>
        </div>

        <!-- Personal Information Section -->
        <div class="mt-4">
            <label for="email" class="form-label">Email</label>
            <div class="input-group">
                <!-- Span to display dynamic data -->
                <span class="form-control" id="email-input"></span>
        
                <!-- Hidden input field for editing email -->
                <input type="email" class="form-control d-none" id="email-input" >
        
                <!-- Edit/Save button -->
                <button class="btn btn-outline-secondary" id="editEmailBtn">Edit</button>
            </div>
        </div>

        <!-- Button for Change Password -->
        <div class="d-grid gap-2 mt-4">
            <button class="btn btn-outline-secondary" id="changePasswordBtn">Change Password</button>
        </div>

        <!-- Spacer to push the Log Out button to the bottom -->
        <div class="mt-auto">
            <hr class="w-100">
            <!-- Log Out Button -->
            <div class="d-grid gap-2">
                <button class="btn btn-outline-primary btn-lg logout">Log Out</button>
            </div>
        </div>
    </div>
</div>

<!-- Modal for Changing Password -->
<div class="modal fade" id="changePasswordModal" tabindex="-1" aria-labelledby="changePasswordModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="changePasswordModalLabel">Change Password</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <!-- Current Password Field -->
                <div class="mb-3">
                    <label for="currentPassword" class="form-label">Current Password</label>
                    <input type="password" class="form-control" id="currentPassword" placeholder="Enter current password" required>
                </div>
                
                <!-- New Password Field -->
                <div class="mb-3">
                    <label for="newPassword" class="form-label">New Password</label>
                    <input type="password" class="form-control" id="newPassword" placeholder="Enter new password" required>
                </div>
                
                <!-- Confirm New Password Field -->
                <div class="mb-3">
                    <label for="confirmPassword" class="form-label">Confirm New Password</label>
                    <input type="password" class="form-control" id="confirmPassword" placeholder="Confirm new password" required>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" id="savePasswordBtn">Save Password</button>
            </div>
        </div>
    </div>
</div>






        <div class="row">
            <!-- Sidebar for large screens -->
            <div class="d-none d-lg-flex flex-column col-lg-3 col-xl-2 sidebar" style="height: calc(100vh - 40px); margin-top: 5px;">
                <!-- Sidebar content -->
                <nav class="row">
                    <ul id="ui-nav" class="sidebar-nav">
                        <!-- Sidebar links -->
                    </ul>
                </nav>
            </div>

            <!-- Main content section -->
            <div class="col-12 col-lg-9 col-xl-10" id="main">
                <!-- Your main content goes here -->
                <div class="col-12">
                    <!-- Report List Header -->
                    <div class="mx-auto" style="max-width: 950px;">
                        <h3 style="font-weight: bold; color: #1A3C63; margin-bottom: 20px; margin-top: 20px; font-size: 24px;">Shared Reports</h3>
                    </div>
                    <!-- Search and Create Button Row -->
                    <div class="mx-auto mb-3" style="max-width: 950px;">
                        <div class="d-flex justify-content-between align-items-center">
                            <div class="input-group" style="max-width: 50%;">
                                <span class="input-group-text">
                                    <i class="fa fa-search"></i>
                                </span>
                                <input type="text" class="form-control" placeholder="Search Shared Reports" id="search-reports">
                            </div>
                        </div>
                    </div>

                    <!-- Report List -->
                    <div id="reports" class="mx-auto" style="max-width: 950px;">
                        <!-- Dynamically added report cards will appear here -->
                    </div>

                    <!-- Pagination -->
                    <nav aria-label="Page navigation" class="mx-auto" style="max-width: 950px;">
                        <ul class="pagination justify-content-center mt-3" id="pagination">
                            <li class="page-item">
                                <a class="page-link" href="#" id="prev-page">Previous</a>
                            </li>
                            <!-- Pagination numbers -->
                            <li class="page-item">
                                <a class="page-link" href="#" id="next-page">Next</a>
                            </li>
                        </ul>
                    </nav>
                </div>
                
                
                
                
                
                
                
                
                <!-- Modal HTML -->
                <div class="modal fade" id="reportModal" tabindex="-1" aria-labelledby="reportModalLabel" aria-hidden="true">
                    <div class="modal-dialog modal-lg">
                      <div class="modal-content">
                        <div class="modal-header">
                          <h5 class="modal-title" id="reportModalLabel">
                            <span id="unit-unit"></span>
                            <span id="unit-address"></span>
                          </h5>
                          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body text-center">
                          <!-- Link Display -->
                          <div class="card mb-3 p-3">
                            <div class="d-flex justify-content-between align-items-center">
                              <input id="reportLink" class="form-control me-3" readonly style="border: none; background-color: #f8f9fa;">
                              <button id="copyReportLink" class="btn btn-outline-primary">
                                <i class="fas fa-copy"></i> Copy Code
                              </button>
                            </div>
                          </div>
                  
                          <!-- QR Code Display -->
                          <!-- <div class="mt-4">
                            <canvas id="qrCodeCanvas"></canvas>
                          </div> -->
                        </div>
                        <div class="modal-footer">
                          <!-- <button id="downloadQrCode" type="button" class="btn btn-primary">
                            <i class="fas fa-qrcode"></i> Download QR Code as PDF
                          </button> -->
                          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                        </div>
                      </div>
                    </div>
                  </div>
                  
  
  

                <!-- Delete Confirmation Modal -->
                <div class="modal fade" id="deleteConfirmationModal" tabindex="-1" aria-labelledby="deleteModalLabel" aria-hidden="true">
                    <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                        <h5 class="modal-title" id="deleteModalLabel">Confirm Deletion</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                        Are you sure you want to delete this report?
                        </div>
                        <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                        <button type="button" class="btn btn-danger" id="confirmDelete">Delete</button>
                        </div>
                    </div>
                    </div>
                </div>
  
                    <!-- Off-canvas button for small screens -->


                    <!-- Off-canvas sidebar for small screens -->
                    <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasSidebar"
                        aria-labelledby="offcanvasSidebarLabel">
                        <div class="offcanvas-header">
                            <img src="https://oceanswelldigital.com/wp-content/uploads/2024/01/1aa.png" class="w-50"
                                alt="Placeholder">
                            <button type="button" class="btn" data-bs-dismiss="offcanvas" aria-label="Close"><i
                                    class="fa-solid fa-chevron-left"></i></button>
                        </div>
                        <div class="offcanvas-body w-100" id="ui-nav2">
                        </div>
                        <div class="offcanvas-footer row justify-content-center pb-2">
                            <button class="btn btn-primary w-75"><span class="fs-4 logout"><i
                                        class="fa-solid fa-arrow-right-from-bracket me-2 "></i>Logout</span></button>
                        </div>
                    </div>

                </div>
            </div>

            <!-- CDN SCRIPTS -->
            <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
            <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
            <!-- LOCAL SCRIPTS -->
            <!-- Include jsPDF library for PDF generation -->
            <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js" integrity="sha512-qZvrmS2ekKPF2mSznTQsxqPgnpkI4DNTlrdUmTzrDgektczlKNRRhy5X5AAOnx5S09ydFYWWNSfcEqDTTHgtNA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
            <script src="/js/usersession.js" defer></script>
            <script src="/js/notify.js" defer></script>
            <script src="/js/sharedreports.js" defer></script>
            <script src="/js/ui.js" defer></script>
            <script src="script.js" defer></script>
            <script src="/js/userlogout.js" defer></script>


</body>

</html>